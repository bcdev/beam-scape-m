<bundleDescriptor>
    <bundleName>beam-scape-m</bundleName>
    <bundleVersion>${pom.version}</bundleVersion>

    <processorDescriptors>

        <processorDescriptor>
            <executableName>beam.scapeM</executableName>
            <processorName>SCAPE-M</processorName>
            <processorVersion>1.0-SNAPSHOT</processorVersion>
            <defaultParameters><![CDATA[<parameters>
    <!-- ***********Scape-M Parameters start here*********** -->

     <!-- Whether to compute over all water (not just over lakes) -->
     <computeOverWater>true</computeOverWater>

     <!-- Whether to write rhoToa bands to target product -->
     <outputRhoToa>false</outputRhoToa>

     <!-- Whether to write 441nm band to target product -->
     <outputReflBand2>false</outputReflBand2>



</parameters>]]></defaultParameters>
            <outputFormats>Multi-GeoTIFF,BEAM-DIMAP,NetCDF</outputFormats>
            <descriptionHtml>
                <![CDATA[<p>Performs Scape-M atmospheric correction.</p>]]>
            </descriptionHtml>
            <inputProductTypes>MERIS_L1B</inputProductTypes>
            <outputProductType>SCAPEM_L2</outputProductType>
            <validMaskExpression>!l1b_flags.INVALID</validMaskExpression>

            <jobConfig>
                <jobParameter>
                    <name>calvalus.hadoop.mapred.child.java.opts</name>
                    <value>-Xmx3000M</value>
                </jobParameter>

                <jobParameter>
                    <name>calvalus.hadoop.mapred.max.map.failures.percent</name>
                    <value>10</value>
                </jobParameter>

                <jobParameter>
                    <name>calvalus.system.beam.envisat.usePixelGeoCoding</name>
                    <value>true</value>
                </jobParameter>
                <jobParameter>
                    <name>calvalus.system.beam.pixelGeoCoding.fractionAccuracy</name>
                    <value>true</value>
                </jobParameter>

                <jobParameter>
                    <name>calvalus.output.compression</name>
                    <value>NONE</value>
                </jobParameter>
            </jobConfig>

            <outputVariables>
                <outputVariable>
                    <name>refl_1</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_2</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_3</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_4</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_5</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_6</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_7</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_8</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_9</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_10</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_12</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_13</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_14</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>

                <outputVariable>
                    <name>refl_toa_1</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_toa_2</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_toa_3</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_toa_4</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_toa_5</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_toa_6</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_toa_7</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_toa_8</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_toa_9</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_toa_10</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_toa_12</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_toa_13</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>refl_toa_14</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>

                <outputVariable>
                    <name>water_vapour</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>AOT_550</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>

                <outputVariable>
                    <name>l1_flags</name>
                </outputVariable>
                <outputVariable>
                    <name>cloud_classif_flags</name>
                </outputVariable>
            </outputVariables>

        </processorDescriptor>

    </processorDescriptors>

</bundleDescriptor>